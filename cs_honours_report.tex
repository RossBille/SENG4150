%
% Honours Report Template
% updated May 2013
%
\documentclass[a4,12pt]{article}
\makeatletter
\renewcommand\paragraph{\@startsection{paragraph}{4}{\z@}%
{-2.5ex\@plus -1ex \@minus -.25ex}%
{1.25ex \@plus .25ex}%
{\normalfont\normalsize\bfseries}}
\makeatother
\setcounter{secnumdepth}{4} % how many sectioning levels to assign numbers to
\setcounter{tocdepth}{4}    % how many sectioning levels to show in ToC

%
\usepackage{url}
\usepackage{epsfig}
\usepackage{latexsym}
\usepackage{graphicx}
\usepackage{./natbib/natbib}
% It also sets the bibliographystyle to plainnat; for more information on
% natbib citation styles, see the natbib documentation, a copy of which
% is archived at http://www.jmlr.org/format/natbib.pdf
\usepackage{setspace}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsfonts}
\usepackage{color}

%\graphicspath{{./figures/}
%Formatting-------------------------------------------------------------------
%\renewcommand{\refname}{\textbf{Literature}}
%
\renewcommand{\contentsname}{\small\textbf{{\center Table of Contents}}}
%
\setlength{\textheight}{8.8in}
%
\setlength{\topmargin}{-1.5cm}
%
\doublespacing
%\setlength{\textwidth}{17cm}
%
%\setlength{\oddsidemargin}{-0.1714in}
%
% Boxit -----------------------------------------------------------
\setlength{\fboxrule}{0.2mm} \setlength{\fboxsep}{4mm}
%
\newsavebox{\savepar}
\newenvironment{boxit}{\begin{lrbox}{\savepar}
        \begin{minipage}[b]{4.6in}}
        {\end{minipage}\end{lrbox}\fbox{\usebox{\savepar}}}
        
        
        
        
 \hyphenation{op-tical net-works Mathe-ma-tical street-scape street-scapes aes-the-tics aes-the-tic com-pu-ting geo-metric Geo-me-tric geo-metry boun-da-ries de-ve-lop-ment know-ledge mani-fold mani-folds high-di-men-sio-nal}
%
%
%
% Document-----------------------------------------------------------------------
%
\begin{document}
%
\title{\bf Distributed Operating Systems - Persistence \& State Preservation}
%
\author{Ross Bille - 3127333\\
School of Electrical Engineering \& Computer Science\\
The University of Newcastle\\ Callaghan NSW 2308, Australia\\
Email: \texttt{c3127333@uon.edu.au} } 

\maketitle


\newpage
\begin{abstract}%
\noindent The abstract summarises the content of the paper or report and should have 70-200 words (depending on the publisher or other requirements); It
should state briefly what the paper is about (maybe also what
methods were used), what its (new) results are, why it is
important or significant. It can also be useful to state (or
indicate implicitly) who is the addressed readership and whether
its a review article, a short paper, a pilot study, an
extension of previous work or a thesis. Try to avoid special symbols, abbreviations, and citations.
\end{abstract}

\pagebreak

\tableofcontents

\pagebreak

\section{Introduction}

There are different ways to write an introduction. Typically it
contains background information and a review of literature which
indicates how the study fits into the context of other previous
work. This way the introduction can  address the significance and importance of the study. Major related publications in big journals should be cited
as well as closely related other articles. The literature review typically uses newer papers when it tries to address the state-of-the-art of a technique or recent developments. However, when first mentioning a method name the historically first source that introduced that concept should be cited. There are different citation styles and here is an example introduction
typically motivates the general hypotheses, aims and research questions
of a paper, report or thesis.  

\begin{center}
\begin{boxit}
\textbf{Persistence \& State Preservation.}
\end{boxit}
\end{center}

Questions raised in the introduction can later be answered in the final discussion.

The introduction often ends with a brief overview of the structure or organisation of
the paper, report or thesis.
test~\citep{ADearle}
%
\section{Persistence}\label{sec:persistence}
Generally in computer science persistence is when the data that a process is working on outlives the life of the aformentioned process.
\subsection{Orthogonal Persistence}
Also known as transparent persistence, orthogonal persistence is an implementation of persistence where the programmer doesn't need to invoke persistence in order to use it, for this to happen the persistence property should happen in the background, transparent to the programmer.
Three principles of persistence were identified by Atkinson and Morrison \citep{Atkinson}, these principles are as follows:
\begin{itemize}
    \item{The Principle of Persistence Independence - Programmer cannot invoke persistence}
    \item{The Principle of Data Type Orthogonality - All data objects are allowed to be persisted}
    \item{The Principle of Persistence IdentiÔ¨Åcation - The choice of how to identify persistent objects is orthogonal to the universe of discourse of the system}
\end{itemize}

\subsection{Persistent Operating Systems}\label{sec:persistentOS}
\section{System State Preservation}\label{sec:preservation}
The state of a system refers to the data and processes that live in that state. The state within conventional operating systems exists in a transistent manner, this means that if a failure occurs the state can cease to exist (contrary to the persistent systems mentioned in section~\ref{sec:persistentOS}). In a perfect world this would not matter however we do not live in a perfect world. We need to consider inconsistencies such as:
\begin{itemize}
    \item{Power failures}
    \item{Data corruption}
    \item{Limited storage capacity}
    \item{Limited processing power}
    \item{Limited power (encourgaing users to close laptop lids or power down machines regularly)}
\end{itemize}
For these reasons we need to develop methods that allow us to recover from the above mentioned inconsistencies, in such a way that once the system comes back online and usable the user can continue to work as if nothing had happened.
\\There are a few different methods already developed for this exact purpose, some for useful than others and some that use more resources than others. Sections~\ref{sec:lowpower} and~\ref{sec:memorydump} group these methods by behaviour.

\subsection{Low-power}\label{sec:lowpower}
The first group of methods that implement System State Preservation share the characteristic (or requirement) that the system is still running, albeit consuming minimal power. These methods keep primary storage powered while other components of the system are shut down. In these methods the system does not need to write anything to secondary storage upon initiation and therefor will not need to read anything on system startup. For this reason these methods are preferable in systems using solid state drives (SSD), aditionally these types of preservation are generally the quickest methods (only having to wait for all other components to come back online).
\\The following sections describe some examples of these method of System State Preservation.

\subsubsection{Suspend to RAM}\label{sec:stRam}
This is a method used by the Linux operating system where power is cut to all components of the system except for RAM which contains all the information in relation to system state.\citep{Wiki}
Suspend to RAM can be initiated by a user or scheduled by the system to save power when the system isnt being directly used. Suspend to RAM is not useful following a complete sudden loss of power due to a power.
\subsubsection{PC box Power Management (PCPM)}
Used by most Windows computers since Windows 2000, PCPM refers to a form of system state preservation concerned with lowering power consumption of the PC (hard drive, CPU, etc.)~\citep{PCPM} usually to save laptop battery life or to meet energy standards set by Energy Star in conjunction with Advanced Configuration Power Interface (ACPI)~\citep{PCPM}.
\\This method is simmilar to Linux's method mentioned in section~\ref{sec:stRam} often refered to as ``sleep'', however some difficulties arose when networking started becomming popular in the industry. Today we see a lot of centrally managed computer environments where an organisation will image all their computers the same way and ``push'' updates when necessary. This became a problem when PCPM was first used as the computer would become disconnected from the network during system sleep, for this reason it has been necessary to activate the Wake On Lan (WOL) feature of the operating system. WOL makes it possible for administrators to ``wake'' a computer from ``sleep'' by sending a message through the network interface~\citep{WOL} making it possible for administrators to remotely issue updates. For WOL to function the network interface must be powered as well as the RAM and this is the main difference between PCPM and Suspend to RAM mentioned in section~\ref{sec:stRam}.

\subsection{Memory dump}\label{sec:memorydump}
The next group of methods share the characteristic that they all write the systems state to secondary (non-volatile) storage and completely shut down, this means that the next system start up will function just like a cold start up except that once the system is ready it will read the last valid system state back into ram.
These methods are the most useful in dealing with laptops that have run out of battery power providing the operating system is configured to perform a system state write before all power is completely lost. These methods are still vulnerable to complete and sudden power losses because they need time to perform the write operations.
\subsubsection{Hibernate}
Hibernate is the main implementation of System State Preservation where the entire state is written to secondary storage. It is implemented in most modern operating systems, namely Windows 2000+ (support existed at the hardware level of Windows 95), Mac OSX 10.4+, and Linux since kernel 2.6.
User invokes an action to save the current system state to secondary storage.
as you will see in Section~\ref{sec:discussion}
\paragraph{Suspend to Disk}\label{sec:stDisk}
An implementation of hibernate used in the Linux operating system, the entire systems state is saved into swap space and the machine is completely powered off.\citep{Wiki}
\subsection{Hybrid Methods}
As the name suggests these methods are a combination of Sleep and Hibernate. Sections~\ref{sec:stb}, \ref{sec:hybridsleep} and \ref{sec:safesleep} explain how Linux, Windows and Apple operating systems (respectively) implement this form of preservation.
\subsubsection{Suspend to Both}\label{sec:stb}
The Linux implementation of Hybrid Sleep, this is a combination of the the methods explained in section~\ref{sec:stRam} and section~\ref{sec:stDisk}
\subsubsection{Hybrid Sleep}\label{sec:hybridsleep}
\subsubsection{Safe Sleep}\label{sec:safesleep}
\paragraph{Versioning}
In addition to Safe Sleep, the latest versions of Mac OSX (10.8+) also exposes an api for automatic versioning. This api makes it easy for developers to create programs that act in a persistent manner, applications can now be configured to automattically save the users work in the background. 
Programs that enable this functionality contribute to making OSX a resilient and reliable system because even if Safe Sleep fails completely the automatic versioning should still have a recent copy of the users work to access.
\section{Discussion}\label{sec:discussion}
%compare and contrast
%
\section{Conclusion}
%
A brief final summary of the main achievements and outcomes. Possibly some suggestions for future work that can follow on from your project.%
%
\subsection*{Acknowledgements}
The author is grateful to A/Prof Frans Henskens and Mark Wallis.
\section{Glossary}
\textbf{Push:} Copying data from a source to one or many destinations. 
\textbf{ }
%

\vskip 0.2in
%\newpage
\bibliographystyle{apalike}
\bibliography{./literature.bib}

\end{document}
